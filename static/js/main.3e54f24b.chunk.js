(this["webpackJsonpagenda-ecmascript"]=this["webpackJsonpagenda-ecmascript"]||[]).push([[0],{68:function(e,t,r){e.exports=r(97)},97:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(19),c=r.n(o),i=r(11),l=r(25),u=r(9),s="LOGIN_ERROR",p="LOGIN_SUCCESS";function m(e){return function(t,r){var n=r().loginForm.users.find((function(t){return t.email===e.email&&t.password===e.password}));t(n?function(e){return{payload:e,type:p}}({user:n}):function(e){return{payload:e,type:s}}({error:"401"}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var f={loggedIn:null};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{loggedIn:t.payload.user});default:return e}},g=r(27),b=r.n(g),O=r(32),v=r(33),h=r.n(v),y="LOAD_EPISODES_SUCCESS",j="ADD_FAVORITE_EPISODE",w="REMOVE_FAVORITE_EPISODE",P=function(e){return{payload:e,type:y}},I=function(e,t){return t?{type:e,payload:t}:{type:e}};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={users:[{name:"Oscar",email:"oscar.osses@chilecompra.cl",password:"oscar123",favoriteEpisodes:[1,3,6],favoriteCharacters:[1,2,3]},{name:"Orlando",email:"orlando.marin@chilecompra.cl",password:"orlando123",favoriteEpisodes:[5,6,3],favoriteCharacters:[11,12,23]}]};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var r=e.users.find((function(e){return e.id===t.payload.userId}));return r.favoriteEpisodes=r.favoriteEpisodes.concat([t.payload.episodeId]),D({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(r)});case w:var n=e.users.find((function(e){return e.id===t.payload.userId}));return n.favoriteEpisodes=n.favoriteEpisodes.filter((function(e){return e!==t.payload.episodeId})),D({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(n)});default:return e}},F=r(54);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var N={loading:!1,response:null,error:!1,episodes:[]};var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{response:t.payload,episodes:e.episodes.concat(t.payload.results),loading:!1,error:!1});default:return e}},A="LOAD_CHARACTERS_SUCCESS",L=function(e){return{payload:e,type:A}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var T={characters:[]};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{characters:e.characters.concat(t.payload.results)});default:return e}},B=Object(l.c)({loggedIn:E,loginForm:k,episode:R,character:G}),J=Object(l.e)(B,{},Object(l.d)(Object(l.a)(F.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})),U=r(21),V=r(22),W=function(){return a.a.createElement("b",null,"PublicPage")},H=function(){return a.a.createElement("b",null,"PrivatePage")},M=r(2),X=function(e){var t=Object(i.c)((function(e){var t=e.loggedIn.loggedIn;return{isLoggedIn:Boolean(t)}})).isLoggedIn,r=e.component,n=Object(M.a)(e,["component"]);return a.a.createElement(V.b,Object.assign({},n,{render:function(e){return t?a.a.createElement(r,e):a.a.createElement(V.a,{to:"/login"})}}))},q=r(41),z=r(58),K=r(116),Q=r(62),Y=r(117),Z=r(134),$=r(133),ee=r(132),te=r(118),re=Object(z.a)((function(e){return{root:{padding:e.spacing(3,4)}}})),ne=function(){var e=re(),t=Object(i.b)(),r=Object(n.useState)(""),o=Object(q.a)(r,2),c=o[0],l=o[1],u=Object(n.useState)(""),s=Object(q.a)(u,2),p=s[0],d=s[1];return a.a.createElement(K.a,{container:!0,justify:"center"},a.a.createElement(K.a,{item:!0,xs:6},a.a.createElement(Q.a,{className:e.root},a.a.createElement(Y.a,{variant:"h5",component:"h3"},"Ingreso de usuarios"),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(m({email:c,password:p}))}},a.a.createElement(Z.a,null,a.a.createElement($.a,{htmlFor:"my-input-email"},"Correo"),a.a.createElement(ee.a,{id:"my-input-email",value:c,onChange:function(e){return l(e.target.value)}})),a.a.createElement("br",null),a.a.createElement(Z.a,null,a.a.createElement($.a,{htmlFor:"my-input-password"},"Contrase\xf1a"),a.a.createElement(ee.a,{id:"my-input-password",value:p,onChange:function(e){return d(e.target.value)}})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(te.a,{type:"submit",variant:"contained",color:"primary"},"Login")))))},ae=function(e){return Object(i.c)((function(e){var t=e.loggedIn.loggedIn;return{isLoggedIn:Boolean(t)}})).isLoggedIn?a.a.createElement(V.a,{to:"/private"}):e.children},oe=function(){return a.a.createElement(ae,null,a.a.createElement(ne,null))},ce=r(119),ie=r(120),le=r(121),ue=r(122),se=r(123),pe=r(60),me=r.n(pe),de=r(61),fe=r.n(de),Ee=function(e){return a.a.createElement(a.a.Fragment,null,e.isFavorite&&a.a.createElement(te.a,{onClick:e.onRemoveFavorite},a.a.createElement(me.a,null)),!e.isFavorite&&a.a.createElement(te.a,{onClick:e.onAddFavorite},a.a.createElement(fe.a,null)))},ge=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{episodes:e.episode.episodes,favoriteEpisodes:e.loggedIn.loggedIn.favoriteEpisodes}})),r=t.episodes,o=t.favoriteEpisodes;console.log("favoriteEpisodes",o),Object(n.useEffect)((function(){0===r.length&&e(function(){var e=Object(O.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://rickandmortyapi.com/api/episode");case 3:r=e.sent,t(P(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var c=Object(z.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}})(),l=function(t){return function(r){console.log(t),e(function(e){return function(t,r){console.log("Episode.action.js",e);var n=r().loggedIn;t(I(j,{userId:n.id,episodeId:e}))}}(t))}},u=function(t){return function(r){console.log(t),e(function(e){return function(t,r){var n=r().loggedIn;t(I(w,{userId:n.id,episodeId:e}))}}(t))}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Q.a,{className:c.root},a.a.createElement(ce.a,{className:c.table,"aria-label":"simple table"},a.a.createElement(ie.a,null,a.a.createElement(le.a,null,a.a.createElement(ue.a,{align:"left"},"#"),a.a.createElement(ue.a,{align:"left"},"Nombre"),a.a.createElement(ue.a,{align:"left"},"Episodio"),a.a.createElement(ue.a,{align:"center"},"Favorito"))),a.a.createElement(se.a,null,r.map((function(e,t){return a.a.createElement(le.a,{key:t+"-"+e.name},a.a.createElement(ue.a,{component:"th",scope:"row"},e.id),a.a.createElement(ue.a,{component:"th",scope:"row"},e.name),a.a.createElement(ue.a,{component:"th",scope:"row"},e.episode),a.a.createElement(ue.a,{align:"center"},a.a.createElement(Ee,{isFavorite:o.some((function(t){return t===e.id})),onAddFavorite:l(e.id),onRemoveFavorite:u(e.id)})))}))))))},be=function(){return a.a.createElement(ge,null)},Oe=r(124),ve=r(125),he=r(126),ye=r(127),je=r(128),we=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{characters:e.character.characters}})).characters;Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://rickandmortyapi.com/api/character/");case 3:r=e.sent,t(L(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var r=Object(z.a)((function(e){return{grid:{marginLeft:"20px",marginRight:"100px",marginTop:"20px"},card:{maxWidth:200,minWidth:200,margin:"0.5em"},media:{height:150,paddingTop:"56.25%"}}}))();return a.a.createElement(a.a.Fragment,null,a.a.createElement(K.a,{container:!0,spacing:10,className:r.grid},t.map((function(e,t){return a.a.createElement(Oe.a,{key:e.id,className:r.card},a.a.createElement(ve.a,{className:r.media,image:e.image,title:e.name}),a.a.createElement(he.a,null,a.a.createElement(Y.a,{component:"p",variant:"h6"},e.name)),a.a.createElement(ye.a,null,a.a.createElement(je.a,{"aria-label":"add to favorites"},a.a.createElement(Ee,{onAddFavorite:(n=e.id,function(e){console.log("Character.container.js",n)})}))));var n}))))},Pe=function(){return a.a.createElement(we,null)},Ie=r(129),Se=r(130),De=Object(z.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},link:{textAlign:"right",marginRight:"20px",color:"white",textDecoration:"none"}}})),xe=function(){var e=De();return a.a.createElement(Ie.a,{position:"static"},a.a.createElement(Se.a,null,a.a.createElement(Y.a,{variant:"h5",className:e.title},a.a.createElement(U.b,{to:"/",className:e.link},"Proyecto 2 - Desafiolatam")),a.a.createElement(Y.a,{variant:"h6"},a.a.createElement(U.b,{to:"/episode",color:"inherit",className:e.link},"EPISODIOS"),a.a.createElement(U.b,{to:"/character",color:"inherit",className:e.link},"PERSONAJES"))))},ke=r(131),Fe=function(){return a.a.createElement(i.a,{store:J},a.a.createElement(ke.a,null),a.a.createElement(U.a,{basename:"/desafiolatam-agenda"},a.a.createElement(xe,null),a.a.createElement(V.d,null,a.a.createElement(V.b,{exact:!0,path:"/",component:oe}),a.a.createElement(V.b,{exact:!0,path:"/login",component:oe}),a.a.createElement(V.b,{exact:!0,path:"/public",component:W}),a.a.createElement(X,{exact:!0,path:"/private",component:H}),a.a.createElement(X,{exact:!0,path:"/episode",component:be}),a.a.createElement(X,{exact:!0,path:"/character",component:Pe}),a.a.createElement(V.b,{exact:!0,path:"/403",render:function(){return a.a.createElement("div",null,"403")}}),a.a.createElement(V.b,{path:"*",render:function(){return a.a.createElement("div",null,"404")}}))))};c.a.render(a.a.createElement(Fe,null),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.3e54f24b.chunk.js.map