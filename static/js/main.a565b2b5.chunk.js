(this["webpackJsonpagenda-ecmascript"]=this["webpackJsonpagenda-ecmascript"]||[]).push([[0],{68:function(e,t,r){e.exports=r(97)},97:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(19),o=r.n(c),l=r(11),i=r(25),s=r(9),u="LOGIN_ERROR",p="LOGIN_SUCCESS";function m(e){return function(t,r){var n=r().loginForm.users.find((function(t){return t.email===e.email&&t.password===e.password}));t(n?function(e){return{payload:e,type:p}}({user:n}):function(e){return{payload:e,type:u}}({error:"401"}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var f={loggedIn:null};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{loggedIn:t.payload.user});default:return e}},b=r(27),E=r.n(b),O=r(32),v=r(33),h=r.n(v),y="LOAD_EPISODES_SUCCESS",j="ADD_FAVORITE_EPISODE",w=function(e){return{payload:e,type:y}},P=function(e,t){return t?{type:e,payload:t}:{type:e}};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var I={users:[{name:"Oscar",email:"oscar.osses@chilecompra.cl",password:"oscar123",favoriteEpisodes:["1","2","3"],favoriteCharacters:["1","2","3"]},{name:"Orlando",email:"orlando.marin@chilecompra.cl",password:"orlando123",favoriteEpisodes:["5","6","3"],favoriteCharacters:["11","12","23"]}]};var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var r=e.users.find((function(e){return e.id===t.payload.userId}));return r.favoriteEpisodes=r.favoriteEpisodes.concat([t.payload.episodeId]),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(r)});default:return e}},D=r(55);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={loading:!1,response:null,error:!1,episodes:[]};var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return C({},e,{response:t.payload,episodes:e.episodes.concat(t.payload.results),loading:!1,error:!1});case j:return C({},e,{isFavoriteEpisode:t.payload});default:return e}},L="LOAD_CHARACTERS_SUCCESS",R=function(e){return{payload:e,type:L}};function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var _={characters:[]};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(console.log("characterReducer",t),t.type){case L:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{characters:e.characters.concat(t.payload.results)});default:return e}},G=Object(i.c)({loggedIn:g,loginForm:x,episode:F,character:T}),B=Object(i.e)(G,{},Object(i.d)(Object(i.a)(D.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})),J=r(21),U=r(22),W=function(){return a.a.createElement("b",null,"PublicPage")},H=function(){return a.a.createElement("b",null,"PrivatePage")},V=r(2),X=function(e){var t=Object(l.c)((function(e){var t=e.loggedIn.loggedIn;return{isLoggedIn:Boolean(t)}})).isLoggedIn,r=e.component,n=Object(V.a)(e,["component"]);return a.a.createElement(U.b,Object.assign({},n,{render:function(e){return t?a.a.createElement(r,e):a.a.createElement(U.a,{to:"/login"})}}))},q=r(42),z=r(59),K=r(115),M=r(62),Q=r(116),Y=r(133),Z=r(132),$=r(131),ee=r(117),te=Object(z.a)((function(e){return{root:{padding:e.spacing(3,4)}}})),re=function(){var e=te(),t=Object(l.b)(),r=Object(n.useState)(""),c=Object(q.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(q.a)(s,2),p=u[0],d=u[1];return a.a.createElement(K.a,{container:!0,justify:"center"},a.a.createElement(K.a,{item:!0,xs:6},a.a.createElement(M.a,{className:e.root},a.a.createElement(Q.a,{variant:"h5",component:"h3"},"Ingreso de usuarios"),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(m({email:o,password:p}))}},a.a.createElement(Y.a,null,a.a.createElement(Z.a,{htmlFor:"my-input-email"},"Correo"),a.a.createElement($.a,{id:"my-input-email",value:o,onChange:function(e){return i(e.target.value)}})),a.a.createElement("br",null),a.a.createElement(Y.a,null,a.a.createElement(Z.a,{htmlFor:"my-input-password"},"Contrase\xf1a"),a.a.createElement($.a,{id:"my-input-password",value:p,onChange:function(e){return d(e.target.value)}})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(ee.a,{type:"submit",variant:"contained",color:"primary"},"Login")))))},ne=function(e){return Object(l.c)((function(e){var t=e.loggedIn.loggedIn;return{isLoggedIn:Boolean(t)}})).isLoggedIn?a.a.createElement(U.a,{to:"/private"}):e.children},ae=function(){return a.a.createElement(ne,null,a.a.createElement(re,null))},ce=r(118),oe=r(119),le=r(120),ie=r(121),se=r(122),ue=r(35),pe=r.n(ue),me=r(61),de=r.n(me),fe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return{episodes:e.episode.episodes,favoriteEpisodes:e.loggedIn.favoriteEpisodes}})),r=t.episodes,c=t.favoriteEpisodes;console.log("favoriteEpisodes",c),Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://rickandmortyapi.com/api/episode");case 3:r=e.sent,t(w(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var o=Object(z.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}})(),i=function(t){return function(r){console.log("handleOnAddFavorite",t),e(function(e){return function(t,r){var n=r().loggedIn;console.log(n),t(P(j,{userId:n.id,episodeId:e}))}}(t))}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(M.a,{className:o.root},a.a.createElement(ce.a,{className:o.table,"aria-label":"simple table"},a.a.createElement(oe.a,null,a.a.createElement(le.a,null,a.a.createElement(ie.a,{align:"left"},"#"),a.a.createElement(ie.a,{align:"left"},"Nombre"),a.a.createElement(ie.a,{align:"left"},"Episodio"),a.a.createElement(ie.a,{align:"center"},"Favorito"))),a.a.createElement(se.a,null,r.map((function(e){return a.a.createElement(le.a,{key:e.name},a.a.createElement(ie.a,{component:"th",scope:"row"},e.id),a.a.createElement(ie.a,{component:"th",scope:"row"},e.name),a.a.createElement(ie.a,{component:"th",scope:"row"},e.episode),a.a.createElement(ie.a,{align:"center"},a.a.createElement(pe.a,{onClick:i(e.id)}),a.a.createElement(de.a,null)))}))))))},ge=function(){return a.a.createElement(fe,null)},be=r(123),Ee=r(124),Oe=r(125),ve=r(126),he=r(127),ye=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return{characters:e.character.characters}})).characters;Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://rickandmortyapi.com/api/character/");case 3:r=e.sent,t(R(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var r=Object(z.a)((function(e){return{grid:{marginLeft:"20px",marginRight:"100px",marginTop:"20px"},card:{maxWidth:200,minWidth:200,margin:"0.5em"},media:{height:150,paddingTop:"56.25%"}}}))();return a.a.createElement(a.a.Fragment,null,a.a.createElement(K.a,{container:!0,spacing:10,className:r.grid},t.map((function(e,t){return a.a.createElement(be.a,{key:e.id,className:r.card},a.a.createElement(Ee.a,{className:r.media,image:e.image,title:e.name}),a.a.createElement(Oe.a,null,a.a.createElement(Q.a,{component:"p",variant:"h6"},e.name)),a.a.createElement(ve.a,null,a.a.createElement(he.a,{"aria-label":"add to favorites"},a.a.createElement(pe.a,null))))}))))},je=function(){return a.a.createElement(ye,null)},we=r(128),Pe=r(129),Se=Object(z.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},link:{textAlign:"right",marginRight:"20px",color:"white",textDecoration:"none"}}})),Ie=function(){var e=Se();return a.a.createElement(we.a,{position:"static"},a.a.createElement(Pe.a,null,a.a.createElement(Q.a,{variant:"h5",className:e.title},a.a.createElement(J.b,{to:"/",className:e.link},"Proyecto 2 - Desafiolatam")),a.a.createElement(Q.a,{variant:"h6"},a.a.createElement(J.b,{to:"/episode",color:"inherit",className:e.link},"EPISODIOS"),a.a.createElement(J.b,{to:"/character",color:"inherit",className:e.link},"PERSONAJES"))))},xe=r(130),De=function(){return a.a.createElement(l.a,{store:B},a.a.createElement(xe.a,null),a.a.createElement(J.a,{basename:"/desafiolatam-agenda"},a.a.createElement(Ie,null),a.a.createElement(U.d,null,a.a.createElement(U.b,{exact:!0,path:"/",component:ae}),a.a.createElement(U.b,{exact:!0,path:"/login",component:ae}),a.a.createElement(U.b,{exact:!0,path:"/public",component:W}),a.a.createElement(X,{exact:!0,path:"/private",component:H}),a.a.createElement(U.b,{exact:!0,path:"/episode",component:ge}),a.a.createElement(U.b,{exact:!0,path:"/character",component:je}),a.a.createElement(U.b,{exact:!0,path:"/403",render:function(){return a.a.createElement("div",null,"403")}}),a.a.createElement(U.b,{path:"*",render:function(){return a.a.createElement("div",null,"404")}}))))};o.a.render(a.a.createElement(De,null),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.a565b2b5.chunk.js.map