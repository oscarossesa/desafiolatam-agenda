(this["webpackJsonpagenda-ecmascript"]=this["webpackJsonpagenda-ecmascript"]||[]).push([[0],{66:function(e,t,r){e.exports=r(95)},95:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(19),c=r.n(o),i=r(11),l=r(25),u=r(9),s="LOGIN_ERROR",p="LOGIN_SUCCESS";function d(e){return function(t,r){var n=r().loginForm.users.find((function(t){return t.email===e.email&&t.password===e.password}));t(n?function(e){return{payload:e,type:p}}({user:n}):function(e){return{payload:e,type:s}}({error:"401"}))}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var f={loggedIn:null};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{loggedIn:t.payload.user});default:return e}},E=r(27),v=r.n(E),b=r(32),O=r(33),h=r.n(O),y="LOAD_EPISODES_SUCCESS",j="ADD_FAVORITE_EPISODE",I="REMOVE_FAVORITE_EPISODE",w=function(e){return{payload:e,type:y}},P=function(e,t){return t?{type:e,payload:t}:{type:e}},D="LOAD_CHARACTERS_SUCCESS",S="ADD_FAVORITE_CHARACTER",x="REMOVE_FAVORITE_CHARACTER",C=function(e){return{payload:e,type:D}},F=function(e,t){return t?{type:e,payload:t}:{type:e}};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A={users:[{id:1,name:"Oscar",email:"oscar.osses@chilecompra.cl",password:"oscar123",favoriteEpisodes:[1,3,6],favoriteCharacters:[2,6,7]},{id:2,name:"Orlando",email:"orlando.marin@chilecompra.cl",password:"orlando123",favoriteEpisodes:[5,6,3],favoriteCharacters:[11,12,23]}]};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var r=e.users.find((function(e){return e.id===t.payload.userId}));return r.favoriteEpisodes=r.favoriteEpisodes.concat([t.payload.episodeId]),k({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(r)});case S:console.log("LoginForm.reducer.js --\x3e action",t),console.log("LoginForm.reducer.js --\x3e state",e);var n=e.users.find((function(e){return e.id===t.payload.userId}));return n.favoriteCharacters=n.favoriteCharacters.concat([t.payload.characterId]),k({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(n)});case I:var a=e.users.find((function(e){return e.id===t.payload.userId}));return a.favoriteEpisodes=a.favoriteEpisodes.filter((function(e){return e!==t.payload.episodeId})),k({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(a)});case x:var o=e.users.find((function(e){return e.id===t.payload.userId}));return o.favoriteCharacters=o.favoriteCharacters.filter((function(e){return e!==t.payload.characterId})),k({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(o)});default:return e}},_=r(54);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var T={loading:!1,response:null,error:!1,episodes:[]};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{response:t.payload,episodes:e.episodes.concat(t.payload.results),loading:!1,error:!1});default:return e}};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var B={characters:[]};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{characters:e.characters.concat(t.payload.results)});default:return e}},J=Object(l.c)({loggedIn:g,loginForm:N,episode:V,character:H}),U=Object(l.e)(J,{},Object(l.d)(Object(l.a)(_.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})),W=r(21),M=r(22),X=function(){return a.a.createElement("b",null,"PublicPage")},q=function(){return a.a.createElement("b",null,"PrivatePage")},z=r(2),K=function(e){var t=Object(i.c)((function(e){var t=e.loggedIn.loggedIn;return{isLoggedIn:Boolean(t)}})).isLoggedIn,r=e.component,n=Object(z.a)(e,["component"]);return a.a.createElement(M.b,Object.assign({},n,{render:function(e){return t?a.a.createElement(r,e):a.a.createElement(M.a,{to:"/login"})}}))},Q=r(41),Y=r(58),Z=r(115),$=r(62),ee=r(116),te=r(132),re=r(131),ne=r(130),ae=r(129),oe=Object(Y.a)((function(e){return{root:{padding:e.spacing(3,4)}}})),ce=function(){var e=oe(),t=Object(i.b)(),r=Object(n.useState)(""),o=Object(Q.a)(r,2),c=o[0],l=o[1],u=Object(n.useState)(""),s=Object(Q.a)(u,2),p=s[0],m=s[1];return a.a.createElement(Z.a,{container:!0,justify:"center"},a.a.createElement(Z.a,{item:!0,xs:6},a.a.createElement($.a,{className:e.root},a.a.createElement(ee.a,{variant:"h5",component:"h3"},"Ingreso de usuarios"),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(d({email:c,password:p}))}},a.a.createElement(te.a,null,a.a.createElement(re.a,{htmlFor:"my-input-email"},"Correo"),a.a.createElement(ne.a,{id:"my-input-email",value:c,onChange:function(e){return l(e.target.value)}})),a.a.createElement("br",null),a.a.createElement(te.a,null,a.a.createElement(re.a,{htmlFor:"my-input-password"},"Contrase\xf1a"),a.a.createElement(ne.a,{id:"my-input-password",value:p,onChange:function(e){return m(e.target.value)}})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(ae.a,{type:"submit",variant:"contained",color:"primary"},"Login")))))},ie=function(e){return Object(i.c)((function(e){var t=e.loggedIn.loggedIn;return{isLoggedIn:Boolean(t)}})).isLoggedIn?a.a.createElement(M.a,{to:"/private"}):e.children},le=function(){return a.a.createElement(ie,null,a.a.createElement(ce,null))},ue=r(117),se=r(118),pe=r(119),de=r(120),me=r(121),fe=r(60),ge=r.n(fe),Ee=r(61),ve=r.n(Ee),be=function(e){return a.a.createElement(a.a.Fragment,null,e.isFavorite&&a.a.createElement(ae.a,{onClick:e.onRemoveFavorite},a.a.createElement(ge.a,null)),!e.isFavorite&&a.a.createElement(ae.a,{onClick:e.onAddFavorite},a.a.createElement(ve.a,null)))},Oe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{episodes:e.episode.episodes,favoriteEpisodes:e.loggedIn.loggedIn.favoriteEpisodes}})),r=t.episodes,o=t.favoriteEpisodes;console.log("favoriteEpisodes",o),Object(n.useEffect)((function(){0===r.length&&e(function(){var e=Object(b.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://rickandmortyapi.com/api/episode");case 3:r=e.sent,t(w(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var c=Object(Y.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}})(),l=function(t){return function(r){console.log(t),e(function(e){return function(t,r){console.log("Episode.action.js",e);var n=r().loggedIn;t(P(j,{userId:n.id,episodeId:e}))}}(t))}},u=function(t){return function(r){console.log(t),e(function(e){return function(t,r){var n=r().loggedIn;t(P(I,{userId:n.id,episodeId:e}))}}(t))}};return a.a.createElement(a.a.Fragment,null,a.a.createElement($.a,{className:c.root},a.a.createElement(ue.a,{className:c.table,"aria-label":"simple table"},a.a.createElement(se.a,null,a.a.createElement(pe.a,null,a.a.createElement(de.a,{align:"left"},"#"),a.a.createElement(de.a,{align:"left"},"Nombre"),a.a.createElement(de.a,{align:"left"},"Episodio"),a.a.createElement(de.a,{align:"center"},"Favorito"))),a.a.createElement(me.a,null,r.map((function(e,t){return a.a.createElement(pe.a,{key:t+"-"+e.name},a.a.createElement(de.a,{component:"th",scope:"row"},e.id),a.a.createElement(de.a,{component:"th",scope:"row"},e.name),a.a.createElement(de.a,{component:"th",scope:"row"},e.episode),a.a.createElement(de.a,{align:"center"},a.a.createElement(be,{isFavorite:o.some((function(t){return t===e.id})),onAddFavorite:l(e.id),onRemoveFavorite:u(e.id)})))}))))))},he=function(){return a.a.createElement(Oe,null)},ye=r(122),je=r(123),Ie=r(124),we=r(125),Pe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{characters:e.character.characters,favoriteCharacters:e.loggedIn.loggedIn.favoriteCharacters}})),r=t.characters,o=t.favoriteCharacters;Object(n.useEffect)((function(){e(function(){var e=Object(b.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://rickandmortyapi.com/api/character/");case 3:r=e.sent,t(C(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var c=function(t){return function(r){e(function(e){return function(t,r){var n=r().loggedIn.loggedIn;t(F(S,{userId:n.id,characterId:e}))}}(t))}},l=function(t){return function(r){console.log("Character.container.js|handeOnRemoveFavorite|id",t),e(function(e){return function(t,r){var n=r().loggedIn.loggedIn;t(F(x,{userId:n.id,characterId:e}))}}(t))}},u=Object(Y.a)((function(e){return{grid:{marginLeft:"20px",marginRight:"100px",marginTop:"20px"},card:{maxWidth:200,minWidth:200,margin:"0.5em"},media:{height:150,paddingTop:"56.25%"}}}))();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Z.a,{container:!0,spacing:10,className:u.grid},r.map((function(e,t){return a.a.createElement(ye.a,{key:e.id,className:u.card},a.a.createElement(je.a,{className:u.media,image:e.image,title:e.name}),a.a.createElement(Ie.a,null,a.a.createElement(ee.a,{component:"p",variant:"h6"},e.name)),a.a.createElement(we.a,null,a.a.createElement(be,{isFavorite:o.some((function(t){return t===e.id})),onAddFavorite:c(e.id),onRemoveFavorite:l(e.id)})))}))))},De=function(){return a.a.createElement(Pe,null)},Se=r(126),xe=r(127),Ce=Object(Y.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},link:{textAlign:"right",marginRight:"20px",color:"white",textDecoration:"none"}}})),Fe=function(){var e=Ce();return a.a.createElement(Se.a,{position:"static"},a.a.createElement(xe.a,null,a.a.createElement(ee.a,{variant:"h5",className:e.title},a.a.createElement(W.b,{to:"/",className:e.link},"Proyecto 2 - Desafiolatam")),a.a.createElement(ee.a,{variant:"h6"},a.a.createElement(W.b,{to:"/episode",color:"inherit",className:e.link},"EPISODIOS"),a.a.createElement(W.b,{to:"/character",color:"inherit",className:e.link},"PERSONAJES"))))},Re=r(128),ke=function(){return a.a.createElement(i.a,{store:U},a.a.createElement(Re.a,null),a.a.createElement(W.a,{basename:"/desafiolatam-agenda"},a.a.createElement(Fe,null),a.a.createElement(M.d,null,a.a.createElement(M.b,{exact:!0,path:"/",component:le}),a.a.createElement(M.b,{exact:!0,path:"/login",component:le}),a.a.createElement(M.b,{exact:!0,path:"/public",component:X}),a.a.createElement(K,{exact:!0,path:"/private",component:q}),a.a.createElement(K,{exact:!0,path:"/episode",component:he}),a.a.createElement(K,{exact:!0,path:"/character",component:De}),a.a.createElement(M.b,{exact:!0,path:"/403",render:function(){return a.a.createElement("div",null,"403")}}),a.a.createElement(M.b,{path:"*",render:function(){return a.a.createElement("div",null,"404")}}))))};c.a.render(a.a.createElement(ke,null),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.16ca822c.chunk.js.map