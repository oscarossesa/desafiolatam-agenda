(this["webpackJsonpagenda-ecmascript"]=this["webpackJsonpagenda-ecmascript"]||[]).push([[0],{66:function(e,t,r){e.exports=r(95)},95:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(20),c=r.n(o),i=r(9),l=r(25),u=r(7),s="LOGIN_ERROR",p="LOGIN_SUCCESS";function d(e){return function(t,r){var n=r().loginForm.users.find((function(t){return t.email===e.email&&t.password===e.password}));t(n?function(e){return{payload:e,type:p}}({user:n}):function(e){return{payload:e,type:s}}({error:"401"}))}}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var m={loggedIn:null};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{loggedIn:t.payload.user});default:return e}},E=r(27),v=r.n(E),O=r(32),b=r(33),h=r.n(b),y="LOAD_EPISODES_SUCCESS",j="ADD_FAVORITE_EPISODE",I="REMOVE_FAVORITE_EPISODE",w=function(e){return{payload:e,type:y}},P=function(e,t){return t?{type:e,payload:t}:{type:e}},R="LOAD_CHARACTERS_SUCCESS",S="ADD_FAVORITE_CHARACTER",C="REMOVE_FAVORITE_CHARACTER",D=function(e){return{payload:e,type:R}},x=function(e,t){return t?{type:e,payload:t}:{type:e}};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A={users:[{id:1,name:"Oscar",email:"oscar.osses@chilecompra.cl",password:"oscar123",favoriteEpisodes:[1,3,6],favoriteCharacters:[2,6,7]},{id:2,name:"Orlando",email:"orlando.marin@chilecompra.cl",password:"orlando123",favoriteEpisodes:[5,6,3],favoriteCharacters:[1,3,5]}]};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var r=e.users.find((function(e){return e.id===t.payload.userId}));return r.favoriteEpisodes=r.favoriteEpisodes.concat([t.payload.episodeId]),k({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(r)});case S:var n=e.users.find((function(e){return e.id===t.payload.userId}));return n.favoriteCharacters=n.favoriteCharacters.concat([t.payload.characterId]),k({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(n)});case I:var a=e.users.find((function(e){return e.id===t.payload.userId}));return a.favoriteEpisodes=a.favoriteEpisodes.filter((function(e){return e!==t.payload.episodeId})),k({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(a)});case C:var o=e.users.find((function(e){return e.id===t.payload.userId}));return o.favoriteCharacters=o.favoriteCharacters.filter((function(e){return e!==t.payload.characterId})),k({},e,{users:e.users.filter((function(e){return e.id!==t.payload.userId})).concat(o)});default:return e}},_=r(54);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var T={loading:!1,response:null,error:!1,episodes:[]};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{response:t.payload,episodes:e.episodes.concat(t.payload.results),loading:!1,error:!1});default:return e}};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var G={characters:[]};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{characters:e.characters.concat(t.payload.results)});default:return e}},J=Object(l.c)({privateRoute:g,loginForm:N,episode:V,character:H}),U=Object(l.e)(J,{},Object(l.d)(Object(l.a)(_.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})),W=r(16),M=r(22),X=r(2),Y=function(e){var t=Object(i.c)((function(e){var t=e.privateRoute.loggedIn;return{isLoggedIn:Boolean(t)}})).isLoggedIn,r=e.component,n=Object(X.a)(e,["component"]);return a.a.createElement(M.b,Object.assign({},n,{render:function(e){return t?a.a.createElement(r,e):a.a.createElement(M.a,{to:"/login"})}}))},q=r(41),z=r(58),K=r(114),Q=r(62),Z=r(115),$=r(132),ee=r(131),te=r(130),re=r(129),ne=Object(z.a)((function(e){return{root:{padding:e.spacing(3,4)}}})),ae=function(){var e=ne(),t=Object(i.b)(),r=Object(n.useState)(""),o=Object(q.a)(r,2),c=o[0],l=o[1],u=Object(n.useState)(""),s=Object(q.a)(u,2),p=s[0],f=s[1];return a.a.createElement(K.a,{container:!0,justify:"center"},a.a.createElement(K.a,{item:!0,xs:6},a.a.createElement(Q.a,{className:e.root},a.a.createElement(Z.a,{variant:"h5",component:"h3"},"Ingreso de usuarios"),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(d({email:c,password:p}))}},a.a.createElement($.a,null,a.a.createElement(ee.a,{htmlFor:"my-input-email"},"Correo"),a.a.createElement(te.a,{id:"my-input-email",value:c,onChange:function(e){return l(e.target.value)}})),a.a.createElement("br",null),a.a.createElement($.a,null,a.a.createElement(ee.a,{htmlFor:"my-input-password"},"Contrase\xf1a"),a.a.createElement(te.a,{id:"my-input-password",value:p,onChange:function(e){return f(e.target.value)}})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(re.a,{type:"submit",variant:"contained",color:"primary"},"Login")))))},oe=function(e){return Object(i.c)((function(e){var t=e.privateRoute.loggedIn;return{isLoggedIn:Boolean(t)}})).isLoggedIn?a.a.createElement(M.a,{to:"/"}):e.children},ce=function(){return a.a.createElement(oe,null,a.a.createElement(ae,null))},ie=r(116),le=r(117),ue=r(118),se=r(119),pe=r(120),de=r(60),fe=r.n(de),me=r(61),ge=r.n(me),Ee=function(e){return a.a.createElement(a.a.Fragment,null,e.isFavorite&&a.a.createElement(re.a,{onClick:e.onRemoveFavorite},a.a.createElement(fe.a,null)),!e.isFavorite&&a.a.createElement(re.a,{onClick:e.onAddFavorite},a.a.createElement(ge.a,null)))},ve=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{episodes:e.episode.episodes,favoriteEpisodes:e.privateRoute.loggedIn.favoriteEpisodes}})),r=t.episodes,o=t.favoriteEpisodes;Object(n.useEffect)((function(){0===r.length&&e(function(){var e=Object(O.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://rickandmortyapi.com/api/episode");case 3:r=e.sent,t(w(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var c=function(t){return function(r){e(function(e){return function(t,r){var n=r().privateRoute.loggedIn;t(P(j,{userId:n.id,episodeId:e}))}}(t))}},l=function(t){return function(r){e(function(e){return function(t,r){var n=r().privateRoute.loggedIn;t(P(I,{userId:n.id,episodeId:e}))}}(t))}},u=Object(z.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}})();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Q.a,{className:u.root},a.a.createElement(ie.a,{className:u.table,"aria-label":"simple table"},a.a.createElement(le.a,null,a.a.createElement(ue.a,null,a.a.createElement(se.a,{align:"left"},"#"),a.a.createElement(se.a,{align:"left"},"Nombre"),a.a.createElement(se.a,{align:"left"},"Episodio"),a.a.createElement(se.a,{align:"center"},"Favorito"))),a.a.createElement(pe.a,null,r.map((function(e,t){return a.a.createElement(ue.a,{key:e.id},a.a.createElement(se.a,{component:"th",scope:"row"},e.id),a.a.createElement(se.a,{component:"th",scope:"row"},e.name),a.a.createElement(se.a,{component:"th",scope:"row"},e.episode),a.a.createElement(se.a,{align:"center"},a.a.createElement(Ee,{isFavorite:o.some((function(t){return t===e.id})),onAddFavorite:c(e.id),onRemoveFavorite:l(e.id)})))}))))))},Oe=function(){return a.a.createElement(ve,null)},be=r(121),he=r(122),ye=r(123),je=r(124),Ie=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{characters:e.character.characters,favoriteCharacters:e.privateRoute.loggedIn.favoriteCharacters}})),r=t.characters,o=t.favoriteCharacters;Object(n.useEffect)((function(){0===r.length&&e(function(){var e=Object(O.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://rickandmortyapi.com/api/character/");case 3:r=e.sent,t(D(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var c=function(t){return function(r){e(function(e){return function(t,r){var n=r().privateRoute.loggedIn;t(x(S,{userId:n.id,characterId:e}))}}(t))}},l=function(t){return function(r){e(function(e){return function(t,r){var n=r().privateRoute.loggedIn;t(x(C,{userId:n.id,characterId:e}))}}(t))}},u=Object(z.a)((function(e){return{grid:{marginLeft:"20px",marginRight:"100px",marginTop:"20px"},card:{maxWidth:200,minWidth:200,margin:"0.5em"},media:{height:150,paddingTop:"56.25%"}}}))();return a.a.createElement(a.a.Fragment,null,a.a.createElement(K.a,{container:!0,spacing:10,className:u.grid},r.map((function(e,t){return a.a.createElement(be.a,{key:e.id,className:u.card},a.a.createElement(he.a,{className:u.media,image:e.image,title:e.name}),a.a.createElement(ye.a,null,a.a.createElement(Z.a,{component:"p",variant:"h6"},e.name)),a.a.createElement(je.a,null,a.a.createElement(Ee,{isFavorite:o.some((function(t){return t===e.id})),onAddFavorite:c(e.id),onRemoveFavorite:l(e.id)})))}))))},we=function(){return a.a.createElement(Ie,null)},Pe=r(125),Re=Object(z.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),Se=function(){Re();var e=Object(i.c)((function(e){return{loggedIn:e.privateRoute.loggedIn}})).loggedIn;return a.a.createElement(Pe.a,{fixed:!0},e?a.a.createElement("h1",null,"Binvenido ",e.name,". \xa1Ya puedes ver tus Episodios y Personajes!"):a.a.createElement("h1",null,"Hola, por favor Inicia Sesi\xf3n"))},Ce=r(126),De=r(127),xe=Object(z.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},link:{textAlign:"right",marginRight:"20px",color:"white",textDecoration:"none"}}})),Fe=function(e){var t=Object(i.c)((function(e){return{isLoggedIn:Boolean(e.privateRoute.loggedIn)}})).isLoggedIn,r=xe();return a.a.createElement(Ce.a,{position:"static"},a.a.createElement(De.a,null,a.a.createElement(Z.a,{variant:"h5",className:r.title},a.a.createElement(W.b,{to:"/",className:r.link},"Proyecto 2 - Desafiolatam")),a.a.createElement(Z.a,{variant:"h6"},t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W.b,{to:"/episode",color:"inherit",className:r.link},"EPISODIOS"),a.a.createElement(W.b,{to:"/character",color:"inherit",className:r.link},"PERSONAJES"),a.a.createElement(W.b,{to:"/logout",color:"inherit",className:r.link},"CERRAR SESI\xd3N")),!t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W.b,{to:"/login",color:"inherit",className:r.link},"INICIAR SESI\xd3N")))))},ke=r(128),Ae=function(){return a.a.createElement(i.a,{store:U},a.a.createElement(ke.a,null),a.a.createElement(W.a,{basename:"/desafiolatam-agenda"},a.a.createElement(Fe,null),a.a.createElement(M.d,null,a.a.createElement(M.b,{exact:!0,path:"/",component:Se}),a.a.createElement(M.b,{exact:!0,path:"/login",component:ce}),a.a.createElement(Y,{exact:!0,path:"/episode",component:Oe}),a.a.createElement(Y,{exact:!0,path:"/character",component:we}),a.a.createElement(M.b,{exact:!0,path:"/403",render:function(){return a.a.createElement("div",null,"403")}}),a.a.createElement(M.b,{path:"*",render:function(){return a.a.createElement("div",null,"404")}}))))};c.a.render(a.a.createElement(Ae,null),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.e3e7ef68.chunk.js.map